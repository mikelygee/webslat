{% extends "base_site.html" %}
{% load i18n static %}
{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static 'slat/style.css' %}?{ now "U" %}" />
{{ form.media }}
{{ form1.media }}

{% endblock %}

{% block bodyclass %}{{ block.super }} slat {% endblock %}
{% block title %} 
Component Groups for {{ project.title_text }}
{% endblock %}
{% block content_title %}Component Groups for <i>{{ project.title_text }}</i>{% endblock %}
{% block content %}
<p>Component Groups for <i>{{ project.title_text }}</i></P>
{{ form.errors }}

<table border="1"><tr><th>Component</th><th>X</th><th>Y</th><th>U</th><th>Mult</th><th>Levels</th><th></th></tr>
{% for cg in data %}
<tr>
  <td align="right">{{ cg.component.ident }}</td>
  <td align="right">{{ cg.count_x }}</td>
  <td align="right">{{ cg.count_y }}</td>
  <td align="right">{{ cg.count_u }}</td>
  <td alighn="right">{{ cg.adj }}</td>
  <td>
    {% if cg.level %}
    {{ cg.levels.0.label }}
    {% else %}
    <details>
      <summary> (on {{ cg.levels|length }} levels)</summary>
      {% for l in project.levels %}
        {% if l in cg.levels %}
           <b>{{ l.label }}</b>
        {% else %}
           {{ l.label }}
        {% endif %}
        <br/>
    {% endfor %}
      </details>
    {% endif %}
  </td>
  <td>
    {% if cg.level %}
    <form action="{% url 'slat:level_compgroup' project.id cg.level.id cg.id  %}" method="get">
    {% else %}
    <form action="{% url 'slat:compgrouppattern' project.id cg.id  %}" method="get">
    {% endif %}
    {% csrf_token %}
    <input type="submit" name='edit' value="Edit" class="table"/>
    </form>
  </tr>
{% endfor %}
</table>
<br/>
<a href= "{% url 'slat:compgrouppattern' project.id %}" class="link_button">Add a Pattern</a>


</br>
<a href="{% url 'slat:project' project.id %}">Return to Project</a><br /><br/>
<a href="{% url 'slat:index' %}">Return to Project List</a>
{% endblock %}
